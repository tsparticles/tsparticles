!function(){let e,t={};const n=new Stats;n.addPanel("count","#ff8",0,(()=>{const e=tsParticles.domItem(0);if(e)return o=Math.max(e.particles.count,o),{value:e.particles.count,maxValue:o}}));let o=0;n.showPanel(2),n.dom.style.position="absolute",n.dom.style.left="3px",n.dom.style.top="3px",n.dom.id="stats-graph";function r(e,t,n){return n.indexOf(e)===t}let i=function(e,n,o){const a=n[o];return function(e,n,o){if(e)if(e.type)switch(e.type){case"boolean":return["true","false"];case"number":case"string":return e.enum;case"array":return getSchemaValuesFromProp(e.items)}else{if(e.$ref){const r=e.$ref.split("/"),a=r[r.length-1],s=t.definitions[a];return i(s,n,o+(/I[A-Z]/.exec(a)?1:0))}if(e.anyOf){let t=[];for(const r of e.anyOf){const e=getSchemaValuesFromProp(r,n,o);for(const n of e)t.push(n)}return t.filter(r)}}}(e.properties?e.properties[a]:e,n,o)},a=function(e,n,o,r){try{switch(o){case"field":break;case"value":return i(t,n,0).filter((function(t){return t.includes(e)}))}}catch(e){}return null},s=function(e){const t=tsParticles.domItem(0);gtag("event","particles_refresh",{dimension_particles_options:JSON.stringify(t.options),event_category:"Particles",event_action:"Particles Refresh",event_label:"Particles Refresh"}),t.refresh().then((()=>{e&&"function"==typeof e&&e()}))},c=function(){const e=document.body.querySelector(".caret-right"),t=document.body.querySelector(".caret-left"),n=document.getElementById("sidebar"),o=n.hasAttribute("hidden");o?(e.setAttribute("hidden",""),t.removeAttribute("hidden"),n.removeAttribute("hidden"),n.classList.add("d-md-block")):(t.setAttribute("hidden",""),e.removeAttribute("hidden"),n.setAttribute("hidden",""),n.classList.remove("d-md-block")),gtag("event","toggle_sidebar",{dimension_status:o?"Visible":"Hidden",event_category:"Sidebar",event_action:"Sidebar Toggle",event_label:"Sidebar Toggle"}),s()},d=function(){const e=tsParticles.domItem(0);e&&e.exportImage((function(e){const t=document.body.querySelector("#exportModal .modal-body .modal-body-content"),n=document.getElementById("tsparticles");t.innerHTML="",t.style.backgroundColor=n.style.backgroundColor,t.style.backgroundImage=n.style.backgroundImage,t.style.backgroundPosition=n.style.backgroundPosition,t.style.backgroundRepeat=n.style.backgroundRepeat,t.style.backgroundSize=n.style.backgroundSize;const o=new Image;o.className="img-fluid",o.onload=()=>URL.revokeObjectURL(o.src);const r=URL.createObjectURL(e);o.src=r,t.appendChild(o),gtag("event","export_image",{event_category:"Particles",event_action:"Image Export",event_label:"Image Export"}),$("#exportModal").modal("show")}))},l=function(){const e=tsParticles.domItem(0);if(e){const t=document.body.querySelector("#exportModal .modal-body .modal-body-content"),n=document.createElement("div");tsParticles.set("tmp",n,{}).then((n=>{const o={};_.assignIn(o,n.options),n.destroy();const r=function e(t,n){return _.transform(t,(function(t,o,r){_.isEqual(o,n[r])||(t[r]=_.isObject(o)&&_.isObject(n[r])?e(o,n[r]):o)}))}(e.options,o);const i=JSON.stringify(r,void 0,2);t.innerHTML=`<pre style="max-height: 70vh">${i}</pre>`;const a=document.querySelector("#exportConfigCopy"),s=document.querySelector("#exportConfigDownload");a.onclick=function(){navigator.clipboard&&navigator.clipboard.writeText(i)},s.onclick=function(){const e="application/json",t=new Blob([i],{type:e}),n=URL.createObjectURL(t),o=document.createElement("a");o.download="particles.json",o.href=n,o.dataset.downloadUrl=[e,o.download,o.href].join(":");const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(r)},gtag("event","export_config",{dimension_particles_export_config:JSON.stringify(e.options),event_category:"Particles",event_action:"Config Export",event_label:"Config Export"}),$("#exportModal").modal("show")}))}},g=function(){const e=tsParticles.domItem(0);if(e){const t=document.getElementById("code-pen-form"),n=document.getElementById("code-pen-data"),o=document.getElementById("tsparticles"),r={html:'\x3c!-- tsParticles - https://particles.js.org - https://github.com/matteobruni/tsparticles --\x3e\n<div id="tsparticles"></div>',css:`/* ---- reset ---- */\nbody {\n    margin: 0;\n    font: normal 75% Arial, Helvetica, sans-serif;\n}\n\ncanvas {\n    display: block;\n    vertical-align: bottom;\n}\n/* ---- tsparticles container ---- */\n#tsparticles {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: ${o.style.backgroundColor};\n    background-image: ${o.style.backgroundImage};\n    background-repeat: ${o.style.backgroundRepeat};\n    background-size: ${o.style.backgroundSize};\n    background-position: ${o.style.backgroundPosition};\n}`,js:`tsParticles.load("tsparticles", ${JSON.stringify(e.options)});`,js_external:"https://cdn.jsdelivr.net/npm/tsparticles@1.18.11/dist/tsparticles.min.js",title:"tsParticles example",description:"This pen was created with tsParticles from https://particles.js.org",tags:"tsparticles, javascript, typescript, design, animation",editors:"001"},i=JSON.stringify(r).replace(/"/g,"&quot;").replace(/'/g,"&apos;");n.value=i,gtag("event","export_codepen",{dimension_codepen_data:i,event_category:"Particles",event_action:"CodePen Export",event_label:"CodePen Export"}),t.submit()}},u=function(){const e=document.body.querySelector("#stats"),t=e.hasAttribute("hidden");t?e.removeAttribute("hidden"):e.setAttribute("hidden",""),gtag("event","stats_toggle",{dimension_status:t?"Visible":"Hidden",event_category:"Stats",event_action:"Stats Toggle",event_label:"Stats Toggle"})},m=function(){tsParticles.domItem(0).options.load(e.get()),s((()=>{}))},p=function(t){const n=localStorage.presetId;localStorage.presetId=t,window.location.hash=t,gtag("event","preset_change",{dimension_old_preset:n,dimension_new_preset:localStorage.presetId,event_category:"Particles",event_action:"Preset Changed",event_label:"Preset Changed"}),function(e){const t=document.body.querySelectorAll(".preset-item"),n=t[Math.floor(Math.random()*t.length)].dataset.preset,o=localStorage.presetId||n;document.getElementById("repulse-div").className="divRepulse"===o?"d-block":"d-none",tsParticles.loadJSON("tsparticles",`../presets/${o}.json`).then((t=>{localStorage.presetId=o,window.location.hash=o,e.set(t.options),e.expandAll()}))}(e)},h=function(){p(this.dataset.preset)};window.addEventListener("hashchange",(function(){const e=document.body.querySelectorAll(".preset-item");if(window.location.hash)for(let t=0;t<e.length;t++)if(e[t].dataset.preset===window.location.hash.replace("#",""))return localStorage.presetId=window.location.hash.replace("#",""),void p(localStorage.presetId)})),window.addEventListener("load",(function(){const o=document.getElementById("editor"),r={mode:"form",modes:["form","view","preview"],autocomplete:{filter:"contain",trigger:"focus",getOptions:a},onError:function(e){gtag("event","editor_error",{dimension_editor_error:"Editor error: "+e,event_category:"Editor",event_action:"Editor Error",event_label:"Editor Error"}),alert(e.toString())},onModeChange:function(e,t){gtag("event","editor_mode_change",{dimension_editor_mode:"Editor changed from "+t+" to "+e,event_category:"Editor",event_action:"Editor Mode Change",event_label:"Editor Mode Change"})},onChange:function(){gtag("event","editor_change",{dimension_editor_data:JSON.stringify(e.get()),event_category:"Editor",event_action:"Editor Change",event_label:"Editor Change"})}};e=new JSONEditor(o,r);const i=document.body.querySelectorAll(".preset-item");if(window.location.hash)for(let e=0;e<i.length;e++)if(i[e].dataset.preset===window.location.hash.replace("#","")){localStorage.presetId=window.location.hash.replace("#","");break}localStorage.presetId||(localStorage.presetId=i[Math.floor(Math.random()*i.length)].dataset.preset),p(localStorage.presetId),fetch("../schema/options.schema.json").then((function(n){n.json().then((function(n){t=n,e.setSchema(t)}))})),document.getElementById("btnUpdate").addEventListener("click",m),document.getElementById("btnNavUpdate").addEventListener("click",m),document.getElementById("stats").appendChild(n.dom),document.getElementById("toggle-stats").addEventListener("click",u),document.getElementById("nav-toggle-stats").addEventListener("click",u),document.body.querySelector(".toggle-sidebar").addEventListener("click",c);for(const e of i)e.addEventListener("click",h);document.getElementById("export-image").addEventListener("click",d),document.getElementById("nav-export-image").addEventListener("click",d),document.getElementById("export-config").addEventListener("click",l),document.getElementById("nav-export-config").addEventListener("click",l),document.getElementById("codepen-export").addEventListener("click",g),document.getElementById("nav-codepen-export").addEventListener("click",g),function(){const e=document.body.querySelector(".caret-right"),t=document.body.querySelector(".caret-left");document.getElementById("sidebar").hasAttribute("hidden")?(t.setAttribute("hidden",""),e.removeAttribute("hidden")):(e.setAttribute("hidden",""),t.removeAttribute("hidden"))}(),function(){const e=function(){n.begin(),n.end(),requestAnimationFrame(e)};requestAnimationFrame(e)}()}))}();
