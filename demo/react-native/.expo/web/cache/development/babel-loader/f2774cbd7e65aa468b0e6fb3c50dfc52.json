{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.webviewEvents = exports.webviewProperties = exports.webviewMethods = exports.webviewConstructor = exports.webviewTarget = exports.constructors = exports.WEBVIEW_TARGET = void 0;\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _construct(Parent, args, Class) {\n  if (typeof Reflect !== \"undefined\" && Reflect.construct) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Parent.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar WEBVIEW_TARGET = '@@WEBVIEW_TARGET';\nexports.WEBVIEW_TARGET = WEBVIEW_TARGET;\nvar constructors = {};\nexports.constructors = constructors;\n\nvar webviewTarget = function webviewTarget(targetName) {\n  return function (target) {\n    target.prototype[WEBVIEW_TARGET] = targetName;\n  };\n};\n\nexports.webviewTarget = webviewTarget;\n\nvar ID = function ID() {\n  return Math.random().toString(32).slice(2);\n};\n\nvar SPECIAL_CONSTRUCTOR = {\n  ImageData: {\n    className: 'Uint8ClampedArray',\n    paramNum: 0\n  }\n};\n\nvar webviewConstructor = function webviewConstructor(constructorName) {\n  return function (target) {\n    constructors[constructorName] = target;\n\n    target.constructLocally = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _construct(target, args.concat([true]));\n    };\n\n    target.prototype.onConstruction = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      if (SPECIAL_CONSTRUCTOR[constructorName] !== undefined) {\n        var _SPECIAL_CONSTRUCTOR$ = SPECIAL_CONSTRUCTOR[constructorName],\n            className = _SPECIAL_CONSTRUCTOR$.className,\n            paramNum = _SPECIAL_CONSTRUCTOR$.paramNum;\n        args[paramNum] = {\n          className: className,\n          classArgs: [args[paramNum]]\n        };\n      }\n\n      this[WEBVIEW_TARGET] = ID();\n      this.postMessage({\n        type: 'construct',\n        payload: {\n          constructor: constructorName,\n          id: this[WEBVIEW_TARGET],\n          args: args\n        }\n      });\n    };\n\n    target.prototype.toJSON = function () {\n      return {\n        __ref__: this[WEBVIEW_TARGET]\n      };\n    };\n  };\n};\n\nexports.webviewConstructor = webviewConstructor;\n\nvar webviewMethods = function webviewMethods(methods) {\n  return function (target) {\n    var _loop = function _loop(method) {\n      target.prototype[method] = function () {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        return this.postMessage({\n          type: 'exec',\n          payload: {\n            target: this[WEBVIEW_TARGET],\n            method: method,\n            args: args\n          }\n        });\n      };\n    };\n\n    for (var _iterator = methods, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var method = _ref;\n\n      _loop(method);\n    }\n  };\n};\n\nexports.webviewMethods = webviewMethods;\n\nvar webviewProperties = function webviewProperties(properties) {\n  return function (target) {\n    var _loop2 = function _loop2(key) {\n      var initialValue = properties[key];\n      var privateKey = \"__\" + key + \"__\";\n      target.prototype[privateKey] = initialValue;\n      Object.defineProperty(target.prototype, key, {\n        get: function get() {\n          return this[privateKey];\n        },\n        set: function set(value) {\n          this.postMessage({\n            type: 'set',\n            payload: {\n              target: this[WEBVIEW_TARGET],\n              key: key,\n              value: value\n            }\n          });\n\n          if (this.forceUpdate) {\n            this.forceUpdate();\n          }\n\n          return this[privateKey] = value;\n        }\n      });\n    };\n\n    var _arr = Object.keys(properties);\n\n    for (var _i2 = 0; _i2 < _arr.length; _i2++) {\n      var key = _arr[_i2];\n\n      _loop2(key);\n    }\n  };\n};\n\nexports.webviewProperties = webviewProperties;\n\nvar webviewEvents = function webviewEvents(types) {\n  return function (target) {\n    var onConstruction = target.prototype.onConstruction;\n\n    target.prototype.onConstruction = function () {\n      if (onConstruction) {\n        onConstruction.call(this);\n      }\n\n      this.postMessage({\n        type: 'listen',\n        payload: {\n          types: types,\n          target: this[WEBVIEW_TARGET]\n        }\n      });\n    };\n\n    target.prototype.addEventListener = function (type, callback) {\n      var _this = this;\n\n      this.addMessageListener(function (message) {\n        if (message && message.type === 'event' && message.payload.target[WEBVIEW_TARGET] === _this[WEBVIEW_TARGET] && message.payload.type === type) {\n          for (var key in message.payload.target) {\n            var value = message.payload.target[key];\n\n            if (key in _this && _this[key] !== value) {\n              _this[key] = value;\n            }\n          }\n\n          callback(_objectSpread({}, message.payload, {\n            target: _this\n          }));\n        }\n      });\n    };\n  };\n};\n\nexports.webviewEvents = webviewEvents;","map":{"version":3,"sources":["/Users/matteo/Projects/GitHub Projects/tsparticles/tsparticles-master/demo/react-native/node_modules/react-native-tsparticles/node_modules/react-native-canvas/dist/webview-binders.js"],"names":["Object","defineProperty","exports","value","webviewEvents","webviewProperties","webviewMethods","webviewConstructor","webviewTarget","constructors","WEBVIEW_TARGET","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","configurable","writable","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Constructor","bind","instance","_setPrototypeOf","prototype","o","p","setPrototypeOf","__proto__","targetName","ID","Math","random","toString","slice","SPECIAL_CONSTRUCTOR","ImageData","className","paramNum","constructorName","constructLocally","_len","Array","_key","onConstruction","_len2","_key2","undefined","_SPECIAL_CONSTRUCTOR$","classArgs","postMessage","type","payload","constructor","id","toJSON","__ref__","methods","_loop","method","_len3","_key3","_iterator","_isArray","isArray","_i","Symbol","iterator","_ref","next","done","properties","_loop2","initialValue","privateKey","get","set","forceUpdate","_arr","_i2","types","call","addEventListener","callback","_this","addMessageListener","message"],"mappings":"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","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.webviewEvents = exports.webviewProperties = exports.webviewMethods = exports.webviewConstructor = exports.webviewTarget = exports.constructors = exports.WEBVIEW_TARGET = void 0;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _construct(Parent, args, Class) { if (typeof Reflect !== \"undefined\" && Reflect.construct) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Parent.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar WEBVIEW_TARGET = '@@WEBVIEW_TARGET';\nexports.WEBVIEW_TARGET = WEBVIEW_TARGET;\nvar constructors = {};\nexports.constructors = constructors;\n\nvar webviewTarget = function webviewTarget(targetName) {\n  return function (target) {\n    target.prototype[WEBVIEW_TARGET] = targetName;\n  };\n};\n\nexports.webviewTarget = webviewTarget;\n\nvar ID = function ID() {\n  return Math.random().toString(32).slice(2);\n};\n\nvar SPECIAL_CONSTRUCTOR = {\n  ImageData: {\n    className: 'Uint8ClampedArray',\n    paramNum: 0\n  }\n};\n\nvar webviewConstructor = function webviewConstructor(constructorName) {\n  return function (target) {\n    constructors[constructorName] = target;\n\n    target.constructLocally = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _construct(target, args.concat([true]));\n    };\n\n    target.prototype.onConstruction = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      if (SPECIAL_CONSTRUCTOR[constructorName] !== undefined) {\n        var _SPECIAL_CONSTRUCTOR$ = SPECIAL_CONSTRUCTOR[constructorName],\n            className = _SPECIAL_CONSTRUCTOR$.className,\n            paramNum = _SPECIAL_CONSTRUCTOR$.paramNum;\n        args[paramNum] = {\n          className: className,\n          classArgs: [args[paramNum]]\n        };\n      }\n\n      this[WEBVIEW_TARGET] = ID();\n      this.postMessage({\n        type: 'construct',\n        payload: {\n          constructor: constructorName,\n          id: this[WEBVIEW_TARGET],\n          args: args\n        }\n      });\n    };\n\n    target.prototype.toJSON = function () {\n      return {\n        __ref__: this[WEBVIEW_TARGET]\n      };\n    };\n  };\n};\n\nexports.webviewConstructor = webviewConstructor;\n\nvar webviewMethods = function webviewMethods(methods) {\n  return function (target) {\n    var _loop = function _loop(method) {\n      target.prototype[method] = function () {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        return this.postMessage({\n          type: 'exec',\n          payload: {\n            target: this[WEBVIEW_TARGET],\n            method: method,\n            args: args\n          }\n        });\n      };\n    };\n\n    for (var _iterator = methods, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var method = _ref;\n\n      _loop(method);\n    }\n  };\n};\n\nexports.webviewMethods = webviewMethods;\n\nvar webviewProperties = function webviewProperties(properties) {\n  return function (target) {\n    var _loop2 = function _loop2(key) {\n      var initialValue = properties[key];\n      var privateKey = \"__\" + key + \"__\";\n      target.prototype[privateKey] = initialValue;\n      Object.defineProperty(target.prototype, key, {\n        get: function get() {\n          return this[privateKey];\n        },\n        set: function set(value) {\n          this.postMessage({\n            type: 'set',\n            payload: {\n              target: this[WEBVIEW_TARGET],\n              key: key,\n              value: value\n            }\n          });\n\n          if (this.forceUpdate) {\n            this.forceUpdate();\n          }\n\n          return this[privateKey] = value;\n        }\n      });\n    };\n\n    var _arr = Object.keys(properties);\n\n    for (var _i2 = 0; _i2 < _arr.length; _i2++) {\n      var key = _arr[_i2];\n\n      _loop2(key);\n    }\n  };\n};\n\nexports.webviewProperties = webviewProperties;\n\nvar webviewEvents = function webviewEvents(types) {\n  return function (target) {\n    var onConstruction = target.prototype.onConstruction;\n\n    target.prototype.onConstruction = function () {\n      if (onConstruction) {\n        onConstruction.call(this);\n      }\n\n      this.postMessage({\n        type: 'listen',\n        payload: {\n          types: types,\n          target: this[WEBVIEW_TARGET]\n        }\n      });\n    };\n\n    target.prototype.addEventListener = function (type, callback) {\n      var _this = this;\n\n      this.addMessageListener(function (message) {\n        if (message && message.type === 'event' && message.payload.target[WEBVIEW_TARGET] === _this[WEBVIEW_TARGET] && message.payload.type === type) {\n          for (var key in message.payload.target) {\n            var value = message.payload.target[key];\n\n            if (key in _this && _this[key] !== value) {\n              _this[key] = value;\n            }\n          }\n\n          callback(_objectSpread({}, message.payload, {\n            target: _this\n          }));\n        }\n      });\n    };\n  };\n};\n\nexports.webviewEvents = webviewEvents;"]},"metadata":{},"sourceType":"script"}