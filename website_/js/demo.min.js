(function(){function y(n,t,i){return i.indexOf(n)===t}let a=(n,t)=>{function i(n,t){return _.transform(n,function(n,r,u){_.isEqual(r,t[u])||(n[u]=_.isObject(r)&&_.isObject(t[u])?i(r,t[u]):r)})}return i(n,t)},t,i={};const n=new Stats;n.setMode(0);n.domElement.style.position="absolute";n.domElement.style.left="3px";n.domElement.style.top="3px";n.domElement.id="stats-graph";let v=function(){const t=document.querySelector(".js-count-particles"),i=function(){n.begin();n.end();const r=tsParticles.domItem(0);t.innerText=r?r.particles.count:0;requestAnimationFrame(i)};requestAnimationFrame(i)};let p=function(n,t,r){if(n)if(n.type)switch(n.type){case"boolean":return["true","false"];case"number":return n.enum;case"string":return n.enum;case"array":return getSchemaValuesFromProp(n.items)}else{if(n.$ref){const u=n.$ref.split("/"),e=u[u.length-1],o=i.definitions[e];return f(o,t,r+(/I[A-Z]/.exec(e)?1:0))}if(n.anyOf){let i=[];for(const n of n.anyOf){const u=getSchemaValuesFromProp(n,t,r);for(const n of u)i.push(n)}return i.filter(y)}}},f=function(n,t,i){const r=t[i],u=n.properties?n.properties[r]:n;return p(u,t,i)},w=function(n,t,r){try{switch(r){case"value":return f(i,t,0).filter(function(t){return t.includes(n)})}}catch(u){}return null},u=function(){const t=document.getElementById("tsparticles"),r=tsParticles.domItem(0).sourceOptions,n=r.config_demo;let i;i=n.background_image?n.background_image.startsWith("url(")?n.background_image:`url('${n.background_image}')`:"";t.style.backgroundColor=n.background_color;t.style.backgroundImage=i;t.style.backgroundPosition=n.background_position;t.style.backgroundRepeat=n.background_repeat;t.style.backgroundSize=n.background_size},b=function(n){const i=document.body.querySelectorAll(".preset-item"),r=i[Math.floor(Math.random()*i.length)].dataset.preset,t=localStorage.presetId||r;document.getElementById("repulse-div").className=t==="divRepulse"?"d-block":"d-none";tsParticles.loadJSON("tsparticles",`../presets/${t}.json`).then(i=>{localStorage.presetId=t,window.location.hash=t,n.set(i.options),n.expandAll(),u()})},k=function(){const n=document.body.querySelector(".caret-right"),t=document.body.querySelector(".caret-left"),i=document.getElementById("sidebar"),r=i.hasAttribute("hidden");r?(t.setAttribute("hidden",""),n.removeAttribute("hidden")):(n.setAttribute("hidden",""),t.removeAttribute("hidden"))},e=function(n){const t=tsParticles.domItem(0);gtag("event","particles_refresh",{dimension_particles_options:JSON.stringify(t.options),event_category:"Particles",event_action:"Particles Refresh",event_label:"Particles Refresh"});t.refresh().then(()=>{n&&typeof n=="function"&&n()})},d=function(){const t=document.body.querySelector(".caret-right"),i=document.body.querySelector(".caret-left"),n=document.getElementById("sidebar"),r=n.hasAttribute("hidden");r?(t.setAttribute("hidden",""),i.removeAttribute("hidden"),n.removeAttribute("hidden"),n.classList.add("d-md-block")):(i.setAttribute("hidden",""),t.removeAttribute("hidden"),n.setAttribute("hidden",""),n.classList.remove("d-md-block"));gtag("event","toggle_sidebar",{dimension_status:r?"Visible":"Hidden",event_category:"Sidebar",event_action:"Sidebar Toggle",event_label:"Sidebar Toggle"});e()},o=function(){const n=tsParticles.domItem(0);n&&n.exportImage(function(n){const t=document.body.querySelector("#exportModal .modal-body .modal-body-content"),i=document.getElementById("tsparticles");t.innerHTML="";t.style.backgroundColor=i.style.backgroundColor;t.style.backgroundImage=i.style.backgroundImage;t.style.backgroundPosition=i.style.backgroundPosition;t.style.backgroundRepeat=i.style.backgroundRepeat;t.style.backgroundSize=i.style.backgroundSize;const r=new Image;r.className="img-fluid";r.onload=()=>URL.revokeObjectURL(r.src);const u=URL.createObjectURL(n);r.src=u;t.appendChild(r);gtag("event","export_image",{event_category:"Particles",event_action:"Image Export",event_label:"Image Export"});$("#exportModal").modal("show")})},s=function(){const n=tsParticles.domItem(0);if(n){const t=document.body.querySelector("#exportModal .modal-body .modal-body-content"),i=document.createElement("div");tsParticles.set("tmp",i,{}).then(i=>{const u={};_.assignIn(u,i.options);i.destroy();const f=a(n.options,u),r=JSON.stringify(f,undefined,2);t.innerHTML=`<pre style="max-height: 70vh">${r}</pre>`;const e=document.querySelector("#exportConfigCopy"),o=document.querySelector("#exportConfigDownload");e.onclick=function(){navigator.clipboard&&navigator.clipboard.writeText(r)};o.onclick=function(){const t="application/json",u=new Blob([r],{type:t}),f=URL.createObjectURL(u),n=document.createElement("a");n.download="particles.json";n.href=f;n.dataset.downloadUrl=[t,n.download,n.href].join(":");const i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);n.dispatchEvent(i)};gtag("event","export_config",{dimension_particles_export_config:JSON.stringify(n.options),event_category:"Particles",event_action:"Config Export",event_label:"Config Export"});$("#exportModal").modal("show")})}},h=function(){const n=tsParticles.domItem(0);if(n){const r=document.getElementById("code-pen-form"),u=document.getElementById("code-pen-data"),t=document.getElementById("tsparticles"),f={html:`<!-- tsParticles - https://particles.matteobruni.it - https://github.com/matteobruni/tsparticles -->
<div id="tsparticles"></div>`,css:`/* ---- reset ---- */
body {
    margin: 0;
    font: normal 75% Arial, Helvetica, sans-serif;
}

canvas {
    display: block;
    vertical-align: bottom;
}
/* ---- tsparticles container ---- */
#tsparticles {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: ${t.style.backgroundColor};
    background-image: ${t.style.backgroundImage};
    background-repeat: ${t.style.backgroundRepeat};
    background-size: ${t.style.backgroundSize};
    background-position: ${t.style.backgroundPosition};
}`,js:`tsParticles.load("tsparticles", ${JSON.stringify(n.options)});`,js_external:"https://cdn.jsdelivr.net/npm/tsparticles@1.18.11/dist/tsparticles.min.js",title:"tsParticles example",description:"This pen was created with tsParticles from https://particles.matteobruni.it",tags:"tsparticles, javascript, typescript, design, animation",editors:"001"},i=JSON.stringify(f).replace(/"/g,"&quot;").replace(/'/g,"&apos;");u.value=i;gtag("event","export_codepen",{dimension_codepen_data:i,event_category:"Particles",event_action:"CodePen Export",event_label:"CodePen Export"});r.submit()}},c=function(){const n=document.body.querySelector("#stats"),t=n.hasAttribute("hidden");t?n.removeAttribute("hidden"):n.setAttribute("hidden","");gtag("event","stats_toggle",{dimension_status:t?"Visible":"Hidden",event_category:"Stats",event_action:"Stats Toggle",event_label:"Stats Toggle"})},l=function(){const n=tsParticles.domItem(0);n.options.load(t.get());e(()=>{u()})},r=function(n){const i=localStorage.presetId;localStorage.presetId=n;window.location.hash=n;gtag("event","preset_change",{dimension_old_preset:i,dimension_new_preset:localStorage.presetId,event_category:"Particles",event_action:"Preset Changed",event_label:"Preset Changed"});b(t)},nt=function(){r(this.value)},g=function(){r(this.dataset.preset)};window.addEventListener("hashchange",function(){const n=document.body.querySelectorAll(".preset-item");if(window.location.hash)for(let t=0;t<n.length;t++)if(n[t].dataset.preset===window.location.hash.replace("#","")){localStorage.presetId=window.location.hash.replace("#","");r(localStorage.presetId);return}});window.addEventListener("load",function(){const e=document.getElementById("editor"),a={mode:"form",modes:["form","view","preview"],autocomplete:{filter:"contain",trigger:"focus",getOptions:w},onError:function(n){gtag("event","editor_error",{dimension_editor_error:"Editor error: "+n,event_category:"Editor",event_action:"Editor Error",event_label:"Editor Error"});alert(n.toString())},onModeChange:function(n,t){gtag("event","editor_mode_change",{dimension_editor_mode:"Editor changed from "+t+" to "+n,event_category:"Editor",event_action:"Editor Mode Change",event_label:"Editor Mode Change"})},onChange:function(){gtag("event","editor_change",{dimension_editor_data:JSON.stringify(t.get()),event_category:"Editor",event_action:"Editor Change",event_label:"Editor Change"});u()}};t=new JSONEditor(e,a);const f=document.body.querySelectorAll(".preset-item");if(window.location.hash)for(let n=0;n<f.length;n++)if(f[n].dataset.preset===window.location.hash.replace("#","")){localStorage.presetId=window.location.hash.replace("#","");break}localStorage.presetId||(localStorage.presetId=f[Math.floor(Math.random()*f.length)].dataset.preset);r(localStorage.presetId);fetch("schema/options.schema.json").then(function(n){n.json().then(function(n){i=n;t.setSchema(i)})});document.getElementById("btnUpdate").addEventListener("click",l);document.getElementById("btnNavUpdate").addEventListener("click",l);document.getElementById("stats").appendChild(n.domElement);document.getElementById("toggle-stats").addEventListener("click",c);document.getElementById("nav-toggle-stats").addEventListener("click",c);document.body.querySelector(".toggle-sidebar").addEventListener("click",d);for(const n of f)n.addEventListener("click",g);document.getElementById("export-image").addEventListener("click",o);document.getElementById("nav-export-image").addEventListener("click",o);document.getElementById("export-config").addEventListener("click",s);document.getElementById("nav-export-config").addEventListener("click",s);document.getElementById("codepen-export").addEventListener("click",h);document.getElementById("nav-codepen-export").addEventListener("click",h);k();v()})})();